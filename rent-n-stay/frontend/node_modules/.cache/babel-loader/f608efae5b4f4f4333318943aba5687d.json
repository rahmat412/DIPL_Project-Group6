{"ast":null,"code":"import { createWebHistory, createRouter } from \"vue-router\"; // layouts\n\nimport Admin from \"@/layouts/Admin.vue\";\nimport Auth from \"@/layouts/Auth.vue\"; // views for Admin layout\n\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Settings from \"@/views/admin/Settings.vue\";\nimport Tables from \"@/views/admin/Tables.vue\";\nimport Maps from \"@/views/admin/Maps.vue\"; // views for Auth layout\n\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\"; // views without layouts\n\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\";\nimport myProfile from \"@/views/myProfile.vue\"; // routes\n\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (localStorage.getItem('jwt') == null) {\n      next({\n        path: '/auth/login',\n        params: {\n          nextUrl: to.fullPath\n        }\n      });\n    } else {\n      var user = JSON.parse(localStorage.getItem('user'));\n\n      if (to.matched.some(function (record) {\n        return record.meta.isAdmin;\n      })) {\n        if (user.isAdmin) {\n          next();\n        } else {\n          next({\n            component: Home\n          });\n        }\n      } else if (to.matched.some(function (record) {\n        return record.meta.isOwner;\n      })) {\n        if (user.isOwner) {\n          next();\n        } else {\n          next({\n            component: Home\n          });\n        }\n      } else if (to.matched.some(function (record) {\n        return record.meta.isClient;\n      })) {\n        if (user.isClient) {\n          next();\n        } else {\n          next({\n            component: Home\n          });\n        }\n      } else {\n        next();\n      }\n    }\n  } else if (to.matched.some(function (record) {\n    return record.meta.guest;\n  })) {\n    if (localStorage.getItem('jwt') == null) {\n      next();\n    } else {\n      next({\n        component: Home\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["D:/Project/temp_rns/frontend/src/routes/routes.js"],"names":["createWebHistory","createRouter","Admin","Auth","Dashboard","Settings","Tables","Maps","Login","Register","Landing","Profile","Home","indexTemp","myProfile","router","history","routes","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","localStorage","getItem","path","params","nextUrl","fullPath","user","JSON","parse","isAdmin","component","isOwner","isClient","guest"],"mappings":"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","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\n\n// layouts\nimport Admin from \"@/layouts/Admin.vue\";\nimport Auth from \"@/layouts/Auth.vue\";\n\n// views for Admin layout\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Settings from \"@/views/admin/Settings.vue\";\nimport Tables from \"@/views/admin/Tables.vue\";\nimport Maps from \"@/views/admin/Maps.vue\";\n\n// views for Auth layout\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\";\n\n// views without layouts\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\";\nimport myProfile from \"@/views/myProfile.vue\";\n\n// routes\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.requiresAuth)) {\n        if (localStorage.getItem('jwt') == null) {\n            next({\n                path: '/auth/login',\n                params: { nextUrl: to.fullPath }\n            })\n        } else {\n            let user = JSON.parse(localStorage.getItem('user'))\n            if (to.matched.some(record => record.meta.isAdmin)) {\n                if (user.isAdmin) {\n                    next()\n                } else {\n                    next({ component: Home })\n                }\n            } else if (to.matched.some(record => record.meta.isOwner)) {\n                if (user.isOwner) {\n                    next()\n                } else {\n                    next({ component: Home })\n                }\n            } else if (to.matched.some(record => record.meta.isClient)) {\n                if (user.isClient) {\n                    next()\n                } else {\n                    next({ component: Home })\n                }\n            } else {\n                next()\n            }\n        }\n    } else if (to.matched.some(record => record.meta.guest)) {\n        if (localStorage.getItem('jwt') == null) {\n            next()\n        } else {\n            next({\n                component: Home\n            })\n        }\n    } else {\n        next()\n    }\n})\n\nexport default router;"]},"metadata":{},"sourceType":"module"}