{"ast":null,"code":"export default {\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    SignIn: function SignIn(e) {\n      var _this = this;\n\n      e.preventDefault();\n\n      if (this.password.length > 0) {\n        this.$http.post('http://localhost:5000/login', {\n          email: this.email,\n          password: this.password\n        }).then(function (response) {\n          var role = response.data.user.role;\n          localStorage.setItem('user', JSON.stringify(response.data.user));\n          localStorage.setItem('jwt', response.data.token);\n\n          if (localStorage.getItem('jwt') != null) {\n            _this.$emit('loggedIn');\n\n            if (_this.$route.params.nextUrl != null) {\n              _this.$router.push(_this.$route.params.nextUrl);\n            } else {\n              if (role == \"admin\") {\n                _this.$router.push('/admin');\n              } else {\n                _this.$router.push('/');\n              }\n            }\n          }\n        }).catch(function (error) {\n          console.error(error.response);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"sources":["D:\\Project\\temp_rns\\frontend\\src\\views\\auth\\Login.vue"],"names":[],"mappings":"AA4EA,eAAe;AACP,EAAA,IADO,kBACD;AACF,WAAO;AACH,MAAA,KAAI,EAAI,EADL;AAEH,MAAA,QAAO,EAAI;AAFR,KAAP;AAIH,GANM;AAOP,EAAA,OAAM,EAAI;AACN,IAAA,MADM,kBACC,CADD,EACG;AAAA;;AACL,MAAA,CAAC,CAAC,cAAF;;AACA,UAAI,KAAK,QAAL,CAAc,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,aAAK,KAAL,CAAW,IAAX,CAAgB,6BAAhB,EAA+C;AAC3C,UAAA,KAAK,EAAE,KAAK,KAD+B;AAE3C,UAAA,QAAQ,EAAE,KAAK;AAF4B,SAA/C,EAIC,IAJD,CAIM,UAAA,QAAO,EAAK;AAChB,cAAM,IAAG,GAAI,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,IAAhC;AACA,UAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA4B,IAAI,CAAC,SAAL,CAAe,QAAQ,CAAC,IAAT,CAAc,IAA7B,CAA5B;AACE,UAAA,YAAY,CAAC,OAAb,CAAqB,KAArB,EAA2B,QAAQ,CAAC,IAAT,CAAc,KAAzC;;AAEA,cAAI,YAAY,CAAC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAwC;AACpC,YAAA,KAAI,CAAC,KAAL,CAAW,UAAX;;AACA,gBAAG,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,OAAnB,IAA8B,IAAjC,EAAsC;AAClC,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,OAArC;AACJ,aAFA,MAGK;AACD,kBAAG,IAAI,IAAE,OAAT,EAAiB;AACb,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACJ,eAFA,MAEO;AACH,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACJ;AACJ;AACJ;AACH,SAtBD,EAuBC,KAvBD,CAuBO,UAAU,KAAV,EAAiB;AACpB,UAAA,OAAO,CAAC,KAAR,CAAc,KAAK,CAAC,QAApB;AACH,SAzBD;AA0BJ;AACJ;AA/BM;AAPH,CAAf","sourcesContent":["<template>\n  <div class=\"container mx-auto px-4 h-full\">\n    <div class=\"flex content-center items-center justify-center h-full\">\n      <div class=\"w-full lg:w-4/12 px-4\">\n        <div\n          class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0\"\n        >\n          <div class=\"rounded-t mb-0 px-6 py-6\">\n            <div class=\"text-center mb-3\">\n              <h6 class=\"text-blueGray-500 text-sm font-bold\">\n                Sign in\n              </h6>\n            </div>\n            <hr class=\"mt-6 border-b-1 border-blueGray-300\" />\n          </div>\n          <div class=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n            <form>\n              <div class=\"relative w-full mb-3\">\n                <label\n                  class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                  htmlFor=\"grid-password\"\n                >\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                  placeholder=\"Email\"\n                  v-model=\"email\"\n                />\n              </div>\n\n              <div class=\"relative w-full mb-3\">\n                <label\n                  class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                  htmlFor=\"grid-password\"\n                >\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                  placeholder=\"Password\"\n                  v-model=\"password\"\n                />\n              </div>\n              <div class=\"text-center mt-6\">\n                <button\n                  @click=\"SignIn\"\n                  class=\"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150\"\n                  type=\"button\"\n                >\n                  Sign In\n                </button>\n              </div>\n            </form>\n            <div class=\"flex flex-wrap mt-6 relative\">\n              <div class=\"w-1/2\">\n                <a href=\"javascript:void(0)\" class=\"text-blueGray-200\">\n              \n                </a>\n              </div>\n              <div class=\"w-1/2 text-right\">\n                <small>Don't have an account? </small>\n                <router-link to=\"/auth/register\" class=\"text-blueGray-600 font-bold\">\n                  <small>Sign up</small>\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n        data(){\n            return {\n                email : \"\",\n                password : \"\"\n            }\n        },\n        methods : {\n            SignIn(e){\n                e.preventDefault()\n                if (this.password.length > 0) {\n                    this.$http.post('http://localhost:5000/login', {\n                        email: this.email,\n                        password: this.password\n                    })\n                    .then(response => {\n                      const role = response.data.user.role\n                      localStorage.setItem('user',JSON.stringify(response.data.user))\n                        localStorage.setItem('jwt',response.data.token)\n\n                        if (localStorage.getItem('jwt') != null){\n                            this.$emit('loggedIn')\n                            if(this.$route.params.nextUrl != null){\n                                this.$router.push(this.$route.params.nextUrl)\n                            }\n                            else {\n                                if(role==\"admin\"){\n                                    this.$router.push('/admin')\n                                } else {\n                                    this.$router.push('/')\n                                }\n                            }\n                        }\n                    })\n                    .catch(function (error) {\n                        console.error(error.response);\n                    });\n                }\n            }\n        }\n    }\n</script>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}