{"ast":null,"code":"import { createWebHistory, createRouter } from \"vue-router\"; // layouts\n\nimport Admin1 from \"@/layouts/Admin_v.vue\";\nimport Auth from \"@/layouts/Auth.vue\"; // views for Admin layout\n\nimport Dashboard1 from \"@/views/admin_/Dashboard.vue\";\nimport Settings from \"@/views/admin_/Settings.vue\";\nimport Tables from \"@/views/admin_/Tables.vue\";\nimport Maps from \"@/views/admin_/Maps.vue\"; // views for Auth layout\n\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\"; // views without layouts\n\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\"; //coba\n\nimport Admin from \"@/layouts/Admin.vue\";\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Client from \"@/views/admin/ManageClient.vue\";\nimport Owner from \"@/views/admin/ManageOwner.vue\";\nimport Place from \"@/views/admin/ManagePlace.vue\";\nimport Address from \"@/views/admin/ManageAddress.vue\";\nimport Facility from \"@/views/admin/ManageFacility.vue\";\nimport Order from \"@/views/admin/ManageOrder.vue\"; // routes\n\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: \"/admin1\",\n    redirect: \"/admin1/dashboard\",\n    component: Admin1,\n    beforeEnter: requireAuth,\n    children: [{\n      path: \"/admin1/dashboard\",\n      component: Dashboard1\n    }, {\n      path: \"/admin1/settings\",\n      component: Settings\n    }, {\n      path: \"/admin1/tables\",\n      component: Tables\n    }, {\n      path: \"/admin1/maps\",\n      component: Maps\n    }]\n  }, {\n    path: \"/admin\",\n    redirect: \"/admin/dashboard\",\n    component: Admin,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'admin'\n    },\n    children: [{\n      path: \"/admin/dashboard\",\n      component: Dashboard\n    }, {\n      path: \"/admin/client\",\n      component: Client\n    }, {\n      path: \"/admin/owner\",\n      component: Owner\n    }, {\n      path: \"/admin/place\",\n      component: Place\n    }, {\n      path: \"/admin/address\",\n      component: Address\n    }, {\n      path: \"/admin/facility\",\n      component: Facility\n    }, {\n      path: \"/admin/Order\",\n      component: Order\n    }]\n  }, {\n    path: \"/auth\",\n    redirect: \"/auth/login\",\n    component: Auth,\n    children: [{\n      path: \"/auth/login\",\n      component: Login\n    }, {\n      path: \"/auth/register\",\n      component: Register\n    }]\n  }, {\n    path: \"/landing\",\n    component: Landing,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'owner'\n    }\n  }, {\n    path: \"/temp\",\n    component: indexTemp\n  }, {\n    path: \"/profile\",\n    component: Profile,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'client'\n    }\n  }, {\n    path: \"/\",\n    component: Home\n  }, {\n    path: \"/:pathMatch(.*)*\",\n    redirect: \"/\"\n  }]\n});\n\nfunction requireAuth(to, from, next) {\n  function proceed() {\n    if (localStorage.getItem('jwt') != null) {\n      if (localStorage.getItem('role') != null) {\n        switch (to.meta.roles) {\n          case 'client':\n            next();\n            break;\n\n          case 'owner':\n            if (localStorage.getItem('role') <= 2) {\n              next();\n            } else {\n              next({\n                component: Auth\n              });\n            }\n\n            break;\n\n          case 'admin':\n            if (localStorage.getItem('role') <= 1) {\n              next();\n            } else {\n              next({\n                component: Auth\n              });\n            }\n\n            break;\n\n          case 'super-admin':\n            if (localStorage.getItem('role') <= 0) {\n              next();\n            } else {\n              next({\n                component: Auth\n              });\n            }\n\n            break;\n\n          default:\n            next({\n              component: Auth\n            });\n            break;\n        }\n      } else {\n        next({\n          component: Auth\n        });\n      }\n    } else {\n      router.push('auth');\n    }\n  }\n\n  if (localStorage.getItem('jwt') == null) {\n    next({\n      component: Auth\n    });\n  } else {\n    proceed();\n  }\n}\n\nexport default router;","map":{"version":3,"sources":["D:/Project/temp_rns/frontend/src/routes/routes.js"],"names":["createWebHistory","createRouter","Admin1","Auth","Dashboard1","Settings","Tables","Maps","Login","Register","Landing","Profile","Home","indexTemp","Admin","Dashboard","Client","Owner","Place","Address","Facility","Order","router","history","routes","path","redirect","component","beforeEnter","requireAuth","children","meta","roles","to","from","next","proceed","localStorage","getItem","push"],"mappings":"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","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\n\n// layouts\nimport Admin1 from \"@/layouts/Admin_v.vue\";\nimport Auth from \"@/layouts/Auth.vue\";\n\n// views for Admin layout\nimport Dashboard1 from \"@/views/admin_/Dashboard.vue\";\nimport Settings from \"@/views/admin_/Settings.vue\";\nimport Tables from \"@/views/admin_/Tables.vue\";\nimport Maps from \"@/views/admin_/Maps.vue\";\n\n// views for Auth layout\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\";\n\n// views without layouts\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\";\n\n//coba\nimport Admin from \"@/layouts/Admin.vue\";\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Client from \"@/views/admin/ManageClient.vue\";\nimport Owner from \"@/views/admin/ManageOwner.vue\";\nimport Place from \"@/views/admin/ManagePlace.vue\";\nimport Address from \"@/views/admin/ManageAddress.vue\";\nimport Facility from \"@/views/admin/ManageFacility.vue\";\nimport Order from \"@/views/admin/ManageOrder.vue\";\n\n// routes\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes: [{\n            path: \"/admin1\",\n            redirect: \"/admin1/dashboard\",\n            component: Admin1,\n            beforeEnter: requireAuth,\n            children: [{\n                    path: \"/admin1/dashboard\",\n                    component: Dashboard1,\n                },\n                {\n                    path: \"/admin1/settings\",\n                    component: Settings,\n                },\n                {\n                    path: \"/admin1/tables\",\n                    component: Tables,\n                },\n                {\n                    path: \"/admin1/maps\",\n                    component: Maps,\n                },\n            ],\n        }, {\n            path: \"/admin\",\n            redirect: \"/admin/dashboard\",\n            component: Admin,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'admin'\n            },\n            children: [{\n                    path: \"/admin/dashboard\",\n                    component: Dashboard,\n                }, {\n                    path: \"/admin/client\",\n                    component: Client,\n                },\n                {\n                    path: \"/admin/owner\",\n                    component: Owner,\n                },\n                {\n                    path: \"/admin/place\",\n                    component: Place,\n                },\n                {\n                    path: \"/admin/address\",\n                    component: Address,\n                },\n                {\n                    path: \"/admin/facility\",\n                    component: Facility,\n                },\n                {\n                    path: \"/admin/Order\",\n                    component: Order,\n                },\n            ],\n\n        }, {\n            path: \"/auth\",\n            redirect: \"/auth/login\",\n            component: Auth,\n            children: [{\n                    path: \"/auth/login\",\n                    component: Login,\n                },\n                {\n                    path: \"/auth/register\",\n                    component: Register,\n                },\n            ],\n        }, {\n            path: \"/landing\",\n            component: Landing,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'owner'\n            }\n        }, {\n            path: \"/temp\",\n            component: indexTemp,\n        }, {\n            path: \"/profile\",\n            component: Profile,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'client'\n            }\n        }, {\n            path: \"/\",\n            component: Home,\n        },\n        { path: \"/:pathMatch(.*)*\", redirect: \"/\" },\n    ]\n});\n\nfunction requireAuth(to, from, next) {\n    function proceed() {\n        if (localStorage.getItem('jwt') != null) {\n            if (localStorage.getItem('role') != null) {\n                switch (to.meta.roles) {\n                    case 'client':\n                        next();\n                        break;\n                    case 'owner':\n                        if (localStorage.getItem('role') <= 2) {\n                            next();\n                        } else {\n                            next({ component: Auth });\n                        }\n                        break;\n                    case 'admin':\n                        if (localStorage.getItem('role') <= 1) {\n                            next();\n                        } else {\n                            next({ component: Auth });\n                        }\n                        break;\n                    case 'super-admin':\n                        if (localStorage.getItem('role') <= 0) {\n                            next();\n                        } else {\n                            next({ component: Auth });\n                        }\n                        break;\n                    default:\n                        next({ component: Auth });\n                        break;\n                }\n            } else {\n                next({ component: Auth });\n            }\n        } else {\n            router.push('auth')\n        }\n    }\n    if (localStorage.getItem('jwt') == null) {\n        next({ component: Auth });\n    } else {\n        proceed();\n    }\n}\n\nexport default router;"]},"metadata":{},"sourceType":"module"}