{"ast":null,"code":"import _asyncToGenerator from \"D:/Project/temp_rns/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport { createPopper } from \"@popperjs/core\";\nimport axios from \"axios\";\nimport ModalAdd from '@/components/Modal/ModalAddClient.vue';\nimport ModalEdit from '@/components/Modal/ModalEditClient.vue';\nexport default {\n  components: {\n    ModalAdd: ModalAdd,\n    ModalEdit: ModalEdit\n  },\n  data: function data() {\n    return {\n      isModalAddVisible: false,\n      isModalEditVisible: false,\n      dropdownPopoverShow: false,\n      clients: {}\n    };\n  },\n  created: function created() {\n    this.getClients();\n  },\n  methods: {\n    showModalAdd: function showModalAdd() {\n      this.isModalAddVisible = true;\n    },\n    closeModalAdd: function closeModalAdd() {\n      this.isModalAddVisible = false;\n    },\n    showModalEdit: function showModalEdit() {\n      this.isModalEditVisible = true;\n    },\n    closeModalEdit: function closeModalEdit() {\n      this.isModalEditVisible = false;\n    },\n    toggleDropdown: function toggleDropdown(event) {\n      event.preventDefault();\n\n      if (this.dropdownPopoverShow) {\n        this.dropdownPopoverShow = false;\n      } else {\n        this.dropdownPopoverShow = true;\n        createPopper(this.$refs.btnDropdownRef, this.$refs.popoverDropdownRef, {\n          placement: \"bottom-start\"\n        });\n      }\n    },\n    // Get All Clients\n    getClients: function getClients() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"http://localhost:5000/client\");\n\n              case 3:\n                response = _context.sent;\n                _this.clients = response.data;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    },\n    // Delete Client\n    deleteClient: function deleteClient(id) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.delete(\"http://localhost:5000/client/\".concat(id));\n\n              case 3:\n                _this2.getClients();\n\n                _context2.next = 9;\n                break;\n\n              case 6:\n                _context2.prev = 6;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 6]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"sources":["D:\\Project\\temp_rns\\frontend\\src\\components\\Tables\\TableFacility.vue"],"names":[],"mappings":";;AA6JA,SAAS,YAAT,QAA6B,gBAA7B;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,QAAP,MAAqB,uCAArB;AACA,OAAO,SAAP,MAAsB,wCAAtB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,QAAQ,EAAR,QADU;AAEV,IAAA,SAAS,EAAT;AAFU,GADC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,iBAAiB,EAAE,KADd;AAEL,MAAA,kBAAkB,EAAE,KAFf;AAGL,MAAA,mBAAmB,EAAE,KAHhB;AAIL,MAAA,OAAO,EAAE;AAJJ,KAAP;AAMD,GAZY;AAab,EAAA,OAba,qBAaH;AACR,SAAK,UAAL;AACD,GAfY;AAgBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,iBAAL,GAAyB,IAAzB;AACD,KAHM;AAIP,IAAA,aAJO,2BAIS;AACd,WAAK,iBAAL,GAAyB,KAAzB;AACD,KANM;AAOP,IAAA,aAPO,2BAOS;AACd,WAAK,kBAAL,GAA0B,IAA1B;AACD,KATM;AAUP,IAAA,cAVO,4BAUU;AACf,WAAK,kBAAL,GAA0B,KAA1B;AACD,KAZM;AAaP,IAAA,cAAc,EAAE,wBAAU,KAAV,EAAiB;AAC/B,MAAA,KAAK,CAAC,cAAN;;AACA,UAAI,KAAK,mBAAT,EAA8B;AAC5B,aAAK,mBAAL,GAA2B,KAA3B;AACF,OAFA,MAEO;AACL,aAAK,mBAAL,GAA2B,IAA3B;AACA,QAAA,YAAY,CAAC,KAAK,KAAL,CAAW,cAAZ,EAA4B,KAAK,KAAL,CAAW,kBAAvC,EAA2D;AACrE,UAAA,SAAS,EAAE;AAD0D,SAA3D,CAAZ;AAGF;AACD,KAvBM;AAwBP;AACM,IAAA,UAzBC,wBAyBY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEQ,KAAK,CAAC,GAAN,CAAU,8BAAV,CAFR;;AAAA;AAET,gBAAA,QAFS;AAGf,gBAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AAHe;AAAA;;AAAA;AAAA;AAAA;AAKf,gBAAA,OAAO,CAAC,GAAR;;AALe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOlB,KAhCM;AAkCP;AACM,IAAA,YAnCC,wBAmCY,EAnCZ,EAmCgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEb,KAAK,CAAC,MAAN,wCAA6C,EAA7C,EAFa;;AAAA;AAGnB,gBAAA,MAAI,CAAC,UAAL;;AAHmB;AAAA;;AAAA;AAAA;AAAA;AAKnB,gBAAA,OAAO,CAAC,GAAR;;AALmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOtB;AA1CM;AAhBI,CAAf","sourcesContent":["<template>\r\n  <div\r\n    class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded\"\r\n    :class=\"[ 'bg-emerald-900 text-white']\"\r\n  >\r\n    <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n      <div class=\"flex flex-wrap items-center\">\r\n        <div class=\"relative w-full px-4 max-w-full flex-grow flex-1\">\r\n          <h3\r\n            class=\"font-semibold text-lg\"\r\n            :class=\"['text-white']\"\r\n          >\r\n            Manage Client\r\n          </h3>\r\n        </div>\r\n        <div class=\"relative w-full px-4 text-right max-w-full flex-grow flex-1\">\r\n          <button v-on:click=\"showModalAdd()\">\r\n            <i class=\"fas fa-plus-square fa-2x text-blueGray-300\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"block w-full overflow-x-auto\">\r\n      <!-- Projects table -->\r\n      <table class=\"items-center w-full bg-transparent border-collapse\">\r\n        <thead>\r\n          <tr>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            >\r\n              ID\r\n            </th>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            >\r\n              Username\r\n            </th>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            >\r\n              Email\r\n            </th>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            >\r\n              Password\r\n            </th>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            >\r\n              Phone Number\r\n            </th>\r\n            <th\r\n              class=\"px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\"\r\n              :class=\"[\r\n                'bg-emerald-800 text-emerald-300 border-emerald-700',\r\n              ]\"\r\n            ></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"client in clients\" :key=\"client.clientID\">\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\"\r\n            >\r\n              {{client.clientID}}\r\n            </td>\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\"\r\n            >\r\n              {{client.clientName}}\r\n            </td>\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\"\r\n            >\r\n              {{client.clientEmail}}\r\n            </td>\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\"\r\n            >\r\n              {{client.clientPassword}}\r\n            </td>\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\"\r\n            >\r\n              {{client.clientPhone}}\r\n            </td>\r\n            <td\r\n              class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right\"\r\n            >\r\n                <div>\r\n                  <a\r\n                    class=\"text-blueGray-500 py-1 px-2\"\r\n                    href=\"\"\r\n                    ref=\"btnDropdownRef\"\r\n                    v-on:click=\"toggleDropdown($event)\"\r\n                  >\r\n                    <i class=\"fas fa-ellipsis-v\"></i>\r\n                  </a>\r\n                  <div\r\n                    ref=\"popoverDropdownRef\"\r\n                    class=\"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-20\"\r\n                    v-bind:class=\"{\r\n                    hidden: !dropdownPopoverShow,\r\n                    block: dropdownPopoverShow,\r\n                    }\"\r\n                  >\r\n                    <button\r\n                      v-on:click=\"showModalEdit()\"\r\n                      class=\"text-left text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n                    >\r\n                      <i class=\"fas fa-edit\"></i>\r\n                      Edit Client\r\n                    </button>\r\n                    <button\r\n                      href=\"\"\r\n                      @click=\"deleteClient(client.clientID)\"\r\n                      class=\"text-left text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\r\n                    >\r\n                      <i class=\"fas fa-trash\"></i>\r\n                      Delete Client\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <ModalEdit\r\n                  :id=\"client.clientID\"\r\n                  v-show=\"isModalEditVisible\"\r\n                  @close=\"closeModalEdit\"\r\n                />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <ModalAdd\r\n      v-show=\"isModalAddVisible\"\r\n      @close=\"closeModalAdd\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createPopper } from \"@popperjs/core\";\r\nimport axios from \"axios\";\r\nimport ModalAdd from '@/components/Modal/ModalAddClient.vue';\r\nimport ModalEdit from '@/components/Modal/ModalEditClient.vue';\r\n\r\nexport default {\r\n  components: {\r\n    ModalAdd,\r\n    ModalEdit,\r\n  },\r\n  data() {\r\n    return {\r\n      isModalAddVisible: false,\r\n      isModalEditVisible: false,\r\n      dropdownPopoverShow: false,\r\n      clients: {}, \r\n    };\r\n  },\r\n  created() {\r\n    this.getClients();\r\n  },\r\n  methods: {\r\n    showModalAdd() {\r\n      this.isModalAddVisible = true;\r\n    },\r\n    closeModalAdd() {\r\n      this.isModalAddVisible = false;\r\n    },\r\n    showModalEdit() {\r\n      this.isModalEditVisible = true;\r\n    },\r\n    closeModalEdit() {\r\n      this.isModalEditVisible = false;\r\n    },\r\n    toggleDropdown: function (event) {\r\n      event.preventDefault();\r\n      if (this.dropdownPopoverShow) {\r\n        this.dropdownPopoverShow = false;\r\n      } else {\r\n        this.dropdownPopoverShow = true;\r\n        createPopper(this.$refs.btnDropdownRef, this.$refs.popoverDropdownRef, {\r\n          placement: \"bottom-start\",\r\n        });\r\n      }\r\n    },\r\n    // Get All Clients\r\n    async getClients() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/client\");\r\n        this.clients = response.data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n \r\n    // Delete Client\r\n    async deleteClient(id) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/client/${id}`);\r\n        this.getClients();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}