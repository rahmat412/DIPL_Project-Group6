{"ast":null,"code":"import _asyncToGenerator from \"D:/Project/temp_rns/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport Navbar from \"@/components/Navbars/IndexNavbar.vue\";\nimport FooterComponent from \"@/components/Footers/Footer.vue\";\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      uname: \"\",\n      uemail: \"\",\n      upassword: \"\",\n      uphone: \"\"\n    };\n  },\n  components: {\n    Navbar: Navbar,\n    FooterComponent: FooterComponent\n  },\n  created: function created() {\n    this.getProfile();\n  },\n  methods: {\n    // Get Product By Id\n    getProfile: function getProfile() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var role, id, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                role = localStorage.getItem('role');\n                id = localStorage.getItem('user');\n\n                if (!(role == 1)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.next = 6;\n                return axios.get('http://localhost:5000/admin/' + id);\n\n              case 6:\n                response = _context.sent;\n                _this.uname = response.data.adminName;\n                _this.uemail = response.data.adminEmail;\n                _this.upassword = response.data.adminPassword;\n                _this.uphone = response.data.adminPhone;\n                _context.next = 23;\n                break;\n\n              case 13:\n                if (!(role == 2)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 16;\n                return axios.get('http://localhost:5000/owner/' + id).then(function (result) {\n                  _this.uname = response.data.ownerName;\n                  _this.uemail = response.data.ownerEmail;\n                  _this.upassword = response.data.ownerPassword;\n                  _this.uphone = response.data.ownerPhone;\n                });\n\n              case 16:\n                response = _context.sent;\n                _context.next = 23;\n                break;\n\n              case 19:\n                if (!(role == 3)) {\n                  _context.next = 23;\n                  break;\n                }\n\n                _context.next = 22;\n                return axios.get('http://localhost:5000/client/' + id).then(function (result) {\n                  _this.uname = response.data.clientName;\n                  _this.uemail = response.data.clientEmail;\n                  _this.upassword = response.data.clientPassword;\n                  _this.uphone = response.data.clientPhone;\n                });\n\n              case 22:\n                response = _context.sent;\n\n              case 23:\n                _context.next = 28;\n                break;\n\n              case 25:\n                _context.prev = 25;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 28:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 25]]);\n      }))();\n    },\n    // Update product\n    updateProfile: function updateProfile() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var role, id, api;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                role = localStorage.getItem('role');\n                id = localStorage.getItem('user');\n\n                if (role == 1) {\n                  api = 'http://localhost:5000/admin/' + id;\n                } else if (role == 2) {\n                  api = 'http://localhost:5000/owner/' + id;\n                } else if (role == 3) {\n                  api = 'http://localhost:5000/client/' + id;\n                }\n\n                _context2.next = 6;\n                return axios.put(api, {\n                  name: _this2.uname,\n                  email: _this2.uemail,\n                  password: _this2.upassword,\n                  phone: _this2.uphone\n                });\n\n              case 6:\n                _this2.uname = \"\";\n                _this2.uemail = \"\";\n                _this2.upassword = \"\";\n                _this2.uphone = \"\";\n\n                _this2.$router.push(\"/profile\");\n\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 13]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"sources":["D:\\Project\\temp_rns\\frontend\\src\\views\\Profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <navbar />\n    <main class=\"profile-page\">\n      <section class=\"relative block h-600-px\">\n        <div\n          class=\"absolute top-0 w-full h-full bg-center bg-cover\"\n          style=\"\n            background-image: url('https://apollo-singapore.akamaized.net/v1/files/m6n4cy860n2k3-ID/image;s=850x0');\n          \"\n        >\n          <span\n            id=\"blackOverlay\"\n            class=\"w-full h-full absolute opacity-50 bg-black\"\n          ></span>\n        </div>\n        <div\n          class=\"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px\"\n          style=\"transform: translateZ(0);\"\n        >\n          <svg\n            class=\"absolute bottom-0 overflow-hidden\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            preserveAspectRatio=\"none\"\n            version=\"1.1\"\n            viewBox=\"0 0 2560 100\"\n            x=\"0\"\n            y=\"0\"\n          >\n            <polygon\n              class=\"text-blueGray-200 fill-current\"\n              points=\"2560 0 2560 100 0 100\"\n            ></polygon>\n          </svg>\n        </div>\n      </section>\n      <section class=\"relative py-16 bg-blueGray-200\">\n        <div class=\"container mx-auto px-4\">\n          <div\n            class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64\"\n          >\n            <div class=\"px-0\">\n                <div\n    class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0\"\n  >\n    <div class=\"rounded-t bg-white mb-0 px-6 py-6\">\n      <div class=\"text-center flex justify-between\">\n        <h6 class=\"text-blueGray-700 text-xl font-bold\">My Account</h6>\n        <button\n          @click=\"updateProfile\"\n          class=\"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\"\n          type=\"button\"\n        >\n          Edit\n        </button>\n      </div>\n    </div>\n    <div class=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n      <form>\n        <h6 class=\"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase\">\n        </h6>\n        \n        <div class=\"flex flex-wrap\">\n          <div class=\"w-full lg:w-6/12 px-4\">\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                Username\n              </label>\n              <input\n                type=\"text\"\n                class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                placeholder=\"Username\"\n                v-model=\"uname\"\n                required\n              />\n            </div>\n          </div>\n          <div class=\"w-full lg:w-6/12 px-4\">\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                Email address\n              </label>\n              <input\n                type=\"text\"\n                class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                placeholder=\"Email\"\n                v-model=\"uemail\"\n                required\n              />\n            </div>\n          </div>\n          <div class=\"w-full lg:w-6/12 px-4\">\n            <div class=\"relative w-full mb-3\">\n              <label\n                class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                htmlFor=\"grid-password\"\n              >\n                Phone Number\n                {{uphone}}\n              </label>\n              <input\n                type=\"text\"\n                class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                placeholder=\"Phone Number\"\n                v-model=\"uphone\"\n                required\n              />\n            </div>\n          </div>\n          <div class=\"w-full lg:w-6/12 px-4\">\n            <div class=\"relative w-full mb-3\">\n              <label\n                  class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                  htmlFor=\"grid-password\"\n                >\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                  placeholder=\"Password\"\n                  v-model=\"upassword\"\n                  required\n                />\n            </div>\n          </div>\n        </div>\n\n      </form>\n    </div>\n  </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </main>\n    <footer-component />\n  </div>\n</template>\n<script>\nimport Navbar from \"@/components/Navbars/IndexNavbar.vue\";\nimport FooterComponent from \"@/components/Footers/Footer.vue\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      uname: \"\",\n      uemail: \"\",\n      upassword: \"\",\n      uphone: \"\",\n    };\n  },\n  components: {\n    Navbar,\n    FooterComponent,\n  },\n  created: function () {\n    this.getProfile();\n  },\n  methods: {\n    // Get Product By Id\n    async getProfile() {\n      try {\n        var role = localStorage.getItem('role');\n        var id = localStorage.getItem('user');\n        var response;\n        if (role==1){\n          response = await axios.get(\n            'http://localhost:5000/admin/'+id\n          );\n          this.uname = response.data.adminName;\n          this.uemail = response.data.adminEmail;\n          this.upassword = response.data.adminPassword;\n          this.uphone = response.data.adminPhone;\n        } else if (role==2){\n          response = await axios.get(\n            'http://localhost:5000/owner/'+id\n          ).then((result) => {\n              this.uname = response.data.ownerName;\n          this.uemail = response.data.ownerEmail;\n          this.upassword = response.data.ownerPassword;\n          this.uphone = response.data.ownerPhone;\n            })\n        } else if (role==3){\n          response = await axios.get(\n            'http://localhost:5000/client/'+id\n          ).then((result) => {\n              this.uname = response.data.clientName;\n              this.uemail = response.data.clientEmail;\n              this.upassword = response.data.clientPassword;\n              this.uphone = response.data.clientPhone;\n            })\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n \n    // Update product\n    async updateProfile() {\n      try {\n        var role = localStorage.getItem('role');\n        var id = localStorage.getItem('user');\n        var api;\n        if (role==1){\n          api='http://localhost:5000/admin/'+id;\n        } else if (role==2){\n          api='http://localhost:5000/owner/'+id;\n        } else if (role==3){\n          api='http://localhost:5000/client/'+id;\n        }\n        await axios.put(api,\n          {\n            name: this.uname,\n            email: this.uemail,\n            password: this.upassword,\n            phone: this.uphone,\n          }\n        );\n        this.uname = \"\";\n        this.uemail = \"\";\n        this.upassword = \"\";\n        this.uphone = \"\";\n        this.$router.push(\"/profile\");\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}