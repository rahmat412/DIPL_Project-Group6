{"ast":null,"code":"import { createWebHistory, createRouter } from \"vue-router\"; // layouts\n\nimport Admin1 from \"@/layouts/Admin_v.vue\";\nimport Auth from \"@/layouts/Auth.vue\"; // views for Admin layout\n\nimport Dashboard1 from \"@/views/admin_/Dashboard.vue\";\nimport Settings from \"@/views/admin_/Settings.vue\";\nimport Tables from \"@/views/admin_/Tables.vue\";\nimport Maps from \"@/views/admin_/Maps.vue\"; // views for Auth layout\n\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\"; // views without layouts\n\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport SearchPlace from \"@/views/SearchPlace.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\";\nimport alert from \"@/views/alert.vue\"; // admin menu\n\nimport Admin from \"@/layouts/Admin.vue\";\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport M_Admin from \"@/views/admin/ManageAdmin.vue\";\nimport Client from \"@/views/admin/ManageClient.vue\";\nimport Owner from \"@/views/admin/ManageOwner.vue\";\nimport Place from \"@/views/admin/ManagePlace.vue\";\nimport Address from \"@/views/admin/ManageAddress.vue\";\nimport Facility from \"@/views/admin/ManageFacility.vue\";\nimport Order from \"@/views/admin/ManageOrder.vue\"; // client menu\n\nimport PlaceDetail from \"@/views/client/client_viewPlace.vue\";\nimport orderClient from \"@/views/client/client_viewOrder.vue\"; // owner menu\n\nimport order from \"@/views/client/client_viewOrder.vue\"; // routes\n\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: \"/admin1\",\n    redirect: \"/admin1/dashboard\",\n    component: Admin1,\n    beforeEnter: requireAuth,\n    children: [{\n      path: \"/admin1/dashboard\",\n      component: Dashboard1\n    }, {\n      path: \"/admin1/settings\",\n      component: Settings\n    }, {\n      path: \"/admin1/tables\",\n      component: Tables\n    }, {\n      path: \"/admin1/maps\",\n      component: Maps\n    }]\n  }, {\n    path: \"/admin\",\n    redirect: \"/admin/dashboard\",\n    component: Admin,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'admin'\n    },\n    children: [{\n      path: \"/admin/dashboard\",\n      component: Dashboard\n    }, {\n      path: \"/admin/admin\",\n      component: M_Admin,\n      meta: {\n        roles: 'super-admin'\n      }\n    }, {\n      path: \"/admin/client\",\n      component: Client\n    }, {\n      path: \"/admin/owner\",\n      component: Owner\n    }, {\n      path: \"/admin/place\",\n      component: Place\n    }, {\n      path: \"/admin/address\",\n      component: Address\n    }, {\n      path: \"/admin/facility\",\n      component: Facility\n    }, {\n      path: \"/admin/Order\",\n      component: Order\n    }]\n  }, {\n    path: \"/auth\",\n    redirect: \"/auth/login\",\n    component: Auth,\n    children: [{\n      path: \"/auth/login\",\n      component: Login\n    }, {\n      path: \"/auth/register\",\n      component: Register\n    }]\n  }, {\n    path: \"/landing\",\n    component: Landing,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'owner'\n    }\n  }, {\n    path: \"/temp\",\n    component: indexTemp\n  }, {\n    path: \"/places\",\n    component: SearchPlace\n  }, {\n    path: \"/places/:id\",\n    component: PlaceDetail\n  }, {\n    path: \"/ViewOrderClient\",\n    component: orderClient,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'client'\n    }\n  }, {\n    path: \"/profile\",\n    component: Profile,\n    beforeEnter: requireAuth,\n    meta: {\n      roles: 'client'\n    }\n  }, {\n    path: \"/alert\",\n    component: alert\n  }, {\n    path: \"/\",\n    component: Home\n  }]\n});\n\nfunction requireAuth(to, from, next) {\n  function proceed() {\n    if (localStorage.getItem('role') != null) {\n      switch (to.meta.roles) {\n        case 'client':\n          next();\n          break;\n\n        case 'owner':\n          if (localStorage.getItem('role') <= 2) {\n            next();\n          } else {\n            next({\n              path: '/alert'\n            });\n          }\n\n          break;\n\n        case 'admin':\n          if (localStorage.getItem('role') <= 1) {\n            next();\n          } else {\n            next({\n              path: '/alert'\n            });\n          }\n\n          break;\n\n        case 'super-admin':\n          if (localStorage.getItem('role') <= 0) {\n            next();\n          } else {\n            next({\n              path: '/alert'\n            });\n          }\n\n          break;\n\n        default:\n          next({\n            path: '/alert'\n          });\n          break;\n      }\n    } else {\n      next({\n        path: '/alert'\n      });\n    }\n  }\n\n  if (localStorage.getItem('jwt') == null) {\n    next({\n      path: '/auth/login'\n    });\n  } else {\n    proceed();\n  }\n}\n\nexport default router;","map":{"version":3,"sources":["D:/Project/temp_rns/frontend/src/routes/routes.js"],"names":["createWebHistory","createRouter","Admin1","Auth","Dashboard1","Settings","Tables","Maps","Login","Register","Landing","Profile","SearchPlace","Home","indexTemp","alert","Admin","Dashboard","M_Admin","Client","Owner","Place","Address","Facility","Order","PlaceDetail","orderClient","order","router","history","routes","path","redirect","component","beforeEnter","requireAuth","children","meta","roles","to","from","next","proceed","localStorage","getItem"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,YAA3B,QAA+C,YAA/C,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,KAAP,MAAkB,+BAAlB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,WAAP,MAAwB,qCAAxB,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,qCAAlB,C,CAEA;;AACA,IAAMC,MAAM,GAAG3B,YAAY,CAAC;AACxB4B,EAAAA,OAAO,EAAE7B,gBAAgB,EADD;AAExB8B,EAAAA,MAAM,EAAE,CAAC;AACDC,IAAAA,IAAI,EAAE,SADL;AAEDC,IAAAA,QAAQ,EAAE,mBAFT;AAGDC,IAAAA,SAAS,EAAE/B,MAHV;AAIDgC,IAAAA,WAAW,EAAEC,WAJZ;AAKDC,IAAAA,QAAQ,EAAE,CAAC;AACHL,MAAAA,IAAI,EAAE,mBADH;AAEHE,MAAAA,SAAS,EAAE7B;AAFR,KAAD,EAIN;AACI2B,MAAAA,IAAI,EAAE,kBADV;AAEIE,MAAAA,SAAS,EAAE5B;AAFf,KAJM,EAQN;AACI0B,MAAAA,IAAI,EAAE,gBADV;AAEIE,MAAAA,SAAS,EAAE3B;AAFf,KARM,EAYN;AACIyB,MAAAA,IAAI,EAAE,cADV;AAEIE,MAAAA,SAAS,EAAE1B;AAFf,KAZM;AALT,GAAD,EAsBD;AACCwB,IAAAA,IAAI,EAAE,QADP;AAECC,IAAAA,QAAQ,EAAE,kBAFX;AAGCC,IAAAA,SAAS,EAAEjB,KAHZ;AAICkB,IAAAA,WAAW,EAAEC,WAJd;AAKCE,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAE;AADL,KALP;AAQCF,IAAAA,QAAQ,EAAE,CAAC;AACHL,MAAAA,IAAI,EAAE,kBADH;AAEHE,MAAAA,SAAS,EAAEhB;AAFR,KAAD,EAGH;AACCc,MAAAA,IAAI,EAAE,cADP;AAECE,MAAAA,SAAS,EAAEf,OAFZ;AAGCmB,MAAAA,IAAI,EAAE;AACFC,QAAAA,KAAK,EAAE;AADL;AAHP,KAHG,EASH;AACCP,MAAAA,IAAI,EAAE,eADP;AAECE,MAAAA,SAAS,EAAEd;AAFZ,KATG,EAaN;AACIY,MAAAA,IAAI,EAAE,cADV;AAEIE,MAAAA,SAAS,EAAEb;AAFf,KAbM,EAiBN;AACIW,MAAAA,IAAI,EAAE,cADV;AAEIE,MAAAA,SAAS,EAAEZ;AAFf,KAjBM,EAqBN;AACIU,MAAAA,IAAI,EAAE,gBADV;AAEIE,MAAAA,SAAS,EAAEX;AAFf,KArBM,EAyBN;AACIS,MAAAA,IAAI,EAAE,iBADV;AAEIE,MAAAA,SAAS,EAAEV;AAFf,KAzBM,EA6BN;AACIQ,MAAAA,IAAI,EAAE,cADV;AAEIE,MAAAA,SAAS,EAAET;AAFf,KA7BM;AARX,GAtBC,EAiED;AACCO,IAAAA,IAAI,EAAE,OADP;AAECC,IAAAA,QAAQ,EAAE,aAFX;AAGCC,IAAAA,SAAS,EAAE9B,IAHZ;AAICiC,IAAAA,QAAQ,EAAE,CAAC;AACHL,MAAAA,IAAI,EAAE,aADH;AAEHE,MAAAA,SAAS,EAAEzB;AAFR,KAAD,EAIN;AACIuB,MAAAA,IAAI,EAAE,gBADV;AAEIE,MAAAA,SAAS,EAAExB;AAFf,KAJM;AAJX,GAjEC,EA8ED;AACCsB,IAAAA,IAAI,EAAE,UADP;AAECE,IAAAA,SAAS,EAAEvB,OAFZ;AAGCwB,IAAAA,WAAW,EAAEC,WAHd;AAICE,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAE;AADL;AAJP,GA9EC,EAqFD;AACCP,IAAAA,IAAI,EAAE,OADP;AAECE,IAAAA,SAAS,EAAEnB;AAFZ,GArFC,EAwFD;AACCiB,IAAAA,IAAI,EAAE,SADP;AAECE,IAAAA,SAAS,EAAErB;AAFZ,GAxFC,EA2FD;AACCmB,IAAAA,IAAI,EAAE,aADP;AAECE,IAAAA,SAAS,EAAER;AAFZ,GA3FC,EA8FD;AACCM,IAAAA,IAAI,EAAE,kBADP;AAECE,IAAAA,SAAS,EAAEP,WAFZ;AAGCQ,IAAAA,WAAW,EAAEC,WAHd;AAICE,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAE;AADL;AAJP,GA9FC,EAqGD;AACCP,IAAAA,IAAI,EAAE,UADP;AAECE,IAAAA,SAAS,EAAEtB,OAFZ;AAGCuB,IAAAA,WAAW,EAAEC,WAHd;AAICE,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAE;AADL;AAJP,GArGC,EA4GD;AACCP,IAAAA,IAAI,EAAE,QADP;AAECE,IAAAA,SAAS,EAAElB;AAFZ,GA5GC,EA+GD;AACCgB,IAAAA,IAAI,EAAE,GADP;AAECE,IAAAA,SAAS,EAAEpB;AAFZ,GA/GC;AAFgB,CAAD,CAA3B;;AAyHA,SAASsB,WAAT,CAAqBI,EAArB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACjC,WAASC,OAAT,GAAmB;AACf,QAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC,IAApC,EAA0C;AACtC,cAAQL,EAAE,CAACF,IAAH,CAAQC,KAAhB;AACI,aAAK,QAAL;AACIG,UAAAA,IAAI;AACJ;;AACJ,aAAK,OAAL;AACI,cAAIE,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC,CAApC,EAAuC;AACnCH,YAAAA,IAAI;AACP,WAFD,MAEO;AACHA,YAAAA,IAAI,CAAC;AAAEV,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AACH;;AACD;;AACJ,aAAK,OAAL;AACI,cAAIY,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC,CAApC,EAAuC;AACnCH,YAAAA,IAAI;AACP,WAFD,MAEO;AACHA,YAAAA,IAAI,CAAC;AAAEV,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AACH;;AACD;;AACJ,aAAK,aAAL;AACI,cAAIY,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC,CAApC,EAAuC;AACnCH,YAAAA,IAAI;AACP,WAFD,MAEO;AACHA,YAAAA,IAAI,CAAC;AAAEV,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AACH;;AACD;;AACJ;AACIU,UAAAA,IAAI,CAAC;AAAEV,YAAAA,IAAI,EAAE;AAAR,WAAD,CAAJ;AACA;AA3BR;AA6BH,KA9BD,MA8BO;AACHU,MAAAA,IAAI,CAAC;AAAEV,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACH;AACJ;;AACD,MAAIY,YAAY,CAACC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAyC;AACrCH,IAAAA,IAAI,CAAC;AACDV,MAAAA,IAAI,EAAE;AADL,KAAD,CAAJ;AAGH,GAJD,MAIO;AACHW,IAAAA,OAAO;AACV;AACJ;;AAED,eAAed,MAAf","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\n\n// layouts\nimport Admin1 from \"@/layouts/Admin_v.vue\";\nimport Auth from \"@/layouts/Auth.vue\";\n\n// views for Admin layout\nimport Dashboard1 from \"@/views/admin_/Dashboard.vue\";\nimport Settings from \"@/views/admin_/Settings.vue\";\nimport Tables from \"@/views/admin_/Tables.vue\";\nimport Maps from \"@/views/admin_/Maps.vue\";\n\n// views for Auth layout\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\";\n\n// views without layouts\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\nimport SearchPlace from \"@/views/SearchPlace.vue\";\nimport Home from \"@/views/Index.vue\";\nimport indexTemp from \"@/views/Index_temp.vue\";\nimport alert from \"@/views/alert.vue\";\n\n// admin menu\nimport Admin from \"@/layouts/Admin.vue\";\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport M_Admin from \"@/views/admin/ManageAdmin.vue\";\nimport Client from \"@/views/admin/ManageClient.vue\";\nimport Owner from \"@/views/admin/ManageOwner.vue\";\nimport Place from \"@/views/admin/ManagePlace.vue\";\nimport Address from \"@/views/admin/ManageAddress.vue\";\nimport Facility from \"@/views/admin/ManageFacility.vue\";\nimport Order from \"@/views/admin/ManageOrder.vue\";\n\n// client menu\nimport PlaceDetail from \"@/views/client/client_viewPlace.vue\";\nimport orderClient from \"@/views/client/client_viewOrder.vue\";\n\n// owner menu\nimport order from \"@/views/client/client_viewOrder.vue\";\n\n// routes\nconst router = createRouter({\n    history: createWebHistory(),\n    routes: [{\n            path: \"/admin1\",\n            redirect: \"/admin1/dashboard\",\n            component: Admin1,\n            beforeEnter: requireAuth,\n            children: [{\n                    path: \"/admin1/dashboard\",\n                    component: Dashboard1,\n                },\n                {\n                    path: \"/admin1/settings\",\n                    component: Settings,\n                },\n                {\n                    path: \"/admin1/tables\",\n                    component: Tables,\n                },\n                {\n                    path: \"/admin1/maps\",\n                    component: Maps,\n                },\n            ],\n        }, {\n            path: \"/admin\",\n            redirect: \"/admin/dashboard\",\n            component: Admin,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'admin'\n            },\n            children: [{\n                    path: \"/admin/dashboard\",\n                    component: Dashboard,\n                }, {\n                    path: \"/admin/admin\",\n                    component: M_Admin,\n                    meta: {\n                        roles: 'super-admin'\n                    },\n                }, {\n                    path: \"/admin/client\",\n                    component: Client,\n                },\n                {\n                    path: \"/admin/owner\",\n                    component: Owner,\n                },\n                {\n                    path: \"/admin/place\",\n                    component: Place,\n                },\n                {\n                    path: \"/admin/address\",\n                    component: Address,\n                },\n                {\n                    path: \"/admin/facility\",\n                    component: Facility,\n                },\n                {\n                    path: \"/admin/Order\",\n                    component: Order,\n                },\n            ],\n\n        }, {\n            path: \"/auth\",\n            redirect: \"/auth/login\",\n            component: Auth,\n            children: [{\n                    path: \"/auth/login\",\n                    component: Login,\n                },\n                {\n                    path: \"/auth/register\",\n                    component: Register,\n                },\n            ],\n        }, {\n            path: \"/landing\",\n            component: Landing,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'owner'\n            }\n        }, {\n            path: \"/temp\",\n            component: indexTemp,\n        }, {\n            path: \"/places\",\n            component: SearchPlace,\n        }, {\n            path: \"/places/:id\",\n            component: PlaceDetail,\n        }, {\n            path: \"/ViewOrderClient\",\n            component: orderClient,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'client'\n            }\n        }, {\n            path: \"/profile\",\n            component: Profile,\n            beforeEnter: requireAuth,\n            meta: {\n                roles: 'client'\n            }\n        }, {\n            path: \"/alert\",\n            component: alert,\n        }, {\n            path: \"/\",\n            component: Home,\n        },\n\n    ]\n});\n\nfunction requireAuth(to, from, next) {\n    function proceed() {\n        if (localStorage.getItem('role') != null) {\n            switch (to.meta.roles) {\n                case 'client':\n                    next();\n                    break;\n                case 'owner':\n                    if (localStorage.getItem('role') <= 2) {\n                        next();\n                    } else {\n                        next({ path: '/alert' });\n                    }\n                    break;\n                case 'admin':\n                    if (localStorage.getItem('role') <= 1) {\n                        next();\n                    } else {\n                        next({ path: '/alert' });\n                    }\n                    break;\n                case 'super-admin':\n                    if (localStorage.getItem('role') <= 0) {\n                        next();\n                    } else {\n                        next({ path: '/alert' });\n                    }\n                    break;\n                default:\n                    next({ path: '/alert' });\n                    break;\n            }\n        } else {\n            next({ path: '/alert' });\n        }\n    }\n    if (localStorage.getItem('jwt') == null) {\n        next({\n            path: '/auth/login'\n        })\n    } else {\n        proceed();\n    }\n}\n\nexport default router;"]},"metadata":{},"sourceType":"module"}