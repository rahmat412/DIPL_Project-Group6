{"ast":null,"code":"import _asyncToGenerator from \"D:/Project/temp_rns/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"regenerator-runtime/runtime.js\";\nimport Swal from 'sweetalert2';\nimport axios from \"axios\";\nexport default {\n  props: [\"order\"],\n  data: function data() {\n    return {\n      place: [],\n      client: [],\n      owner: []\n    };\n  },\n  created: function created() {\n    this.getPlace(), this.getClient(), this.getOwner();\n  },\n  methods: {\n    status: function status(id, stats) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.put('http://localhost:5000/orderStatus/' + id, {\n                  order_status: stats\n                });\n\n              case 3:\n                _this.sAlert(\"success\", \"Yeay..\", \"Updating Order Success\");\n\n                _context.next = 10;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n                _this.sAlert(\"error\", \"Oops..\", \"Updating Order Failed\");\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }))();\n    },\n    getPlace: function getPlace() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"http://localhost:5000/place/\" + _this2.order.placeID).then(function (response) {\n                  _this2.place = response.data;\n                }).catch(function (error) {\n                  return console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getClient: function getClient() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(\"http://localhost:5000/client/\" + _this3.order.clientID).then(function (response) {\n                  _this3.client = response.data;\n                }).catch(function (error) {\n                  return console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    getOwner: function getOwner() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get(\"http://localhost:5000/owner/\" + _this4.place.ownerID).then(function (response) {\n                  _this4.owner = response.data;\n                }).catch(function (error) {\n                  return console.log(error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    sAlert: function sAlert(ico, tit, txt) {\n      Swal.fire({\n        icon: ico,\n        title: tit,\n        text: txt,\n        showConfirmButton: false,\n        timer: 1500\n      });\n    }\n  }\n};","map":{"version":3,"sources":["D:\\Project\\temp_rns\\frontend\\src\\components\\Cards\\CardOrderClient.vue"],"names":[],"mappings":";;AAwCA,OAAO,IAAP,MAAiB,aAAjB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,KAAK,EAAE,CAAC,OAAD,CADI;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,MAAM,EAAE,EAFL;AAGH,MAAA,KAAK,EAAE;AAHJ,KAAP;AAKH,GARU;AASX,EAAA,OATW,qBASD;AACN,SAAK,QAAL,IACA,KAAK,SAAL,EADA,EAEA,KAAK,QAAL,EAFA;AAGH,GAbU;AAcX,EAAA,OAAO,EAAE;AACC,IAAA,MADD,kBACQ,EADR,EACW,KADX,EACiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAER,KAAK,CAAC,GAAN,CAAU,uCAAqC,EAA/C,EACN;AACI,kBAAA,YAAY,EAAE;AADlB,iBADM,CAFQ;;AAAA;AAMd,gBAAA,KAAI,CAAC,MAAL,CAAY,SAAZ,EAAsB,QAAtB,EAA+B,wBAA/B;;AANc;AAAA;;AAAA;AAAA;AAAA;AAQd,gBAAA,OAAO,CAAC,GAAR;;AACA,gBAAA,KAAI,CAAC,MAAL,CAAY,OAAZ,EAAoB,QAApB,EAA6B,uBAA7B;;AATc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWrB,KAZI;AAaC,IAAA,QAbD,sBAaW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACN,KAAI,CACT,GADK,CACD,iCAAiC,MAAI,CAAC,KAAL,CAAW,OAD3C,EAEL,IAFK,CAEA,UAAC,QAAD,EAAc;AAAC,kBAAA,MAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAtB;AAA4B,iBAF3C,EAGL,KAHK,CAGC,UAAC,KAAD;AAAA,yBAAW,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAX;AAAA,iBAHD,CADM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKf,KAlBI;AAmBC,IAAA,SAnBD,uBAmBY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACP,KAAI,CACT,GADK,CACD,kCAAkC,MAAI,CAAC,KAAL,CAAW,QAD5C,EAEL,IAFK,CAEA,UAAC,QAAD,EAAc;AAAC,kBAAA,MAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AAA6B,iBAF5C,EAGL,KAHK,CAGC,UAAC,KAAD;AAAA,yBAAW,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAX;AAAA,iBAHD,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKhB,KAxBI;AAyBC,IAAA,QAzBD,sBAyBW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACN,KAAI,CACT,GADK,CACD,iCAAiC,MAAI,CAAC,KAAL,CAAW,OAD3C,EAEL,IAFK,CAEA,UAAC,QAAD,EAAc;AAAC,kBAAA,MAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAtB;AAA4B,iBAF3C,EAGL,KAHK,CAGC,UAAC,KAAD;AAAA,yBAAW,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAX;AAAA,iBAHD,CADM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKf,KA9BI;AA+BL,IAAA,MAAM,EAAE,gBAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB;AAC5B,MAAA,IAAI,CAAC,IAAL,CAAU;AACV,QAAA,IAAI,EAAE,GADI;AAEV,QAAA,KAAK,EAAE,GAFG;AAGV,QAAA,IAAI,EAAE,GAHI;AAIV,QAAA,iBAAiB,EAAE,KAJT;AAKV,QAAA,KAAK,EAAE;AALG,OAAV;AAOP;AAvCQ;AAdE,CAAf","sourcesContent":["<template>\r\n    \r\n        <div\r\n            class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-8 shadow-lg rounded-lg\"\r\n        >\r\n            <div class=\"px-4 py-5 flex-auto\">\r\n                <h6 class=\"text-xl font-bold\">Order ID: {{order.orderID}}</h6>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Order Date: {{order.orderDate.substring(0,10)}}\r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Order Check-In: {{order.orderCheckIn.substring(0,10)}}\r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Order Check-Out: {{order.orderCheckOut.substring(0,10)}}\r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Owner Name: {{owner.ownerName}} {{place}} \r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Place Name: {{place.placeName}}\r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Price: Rp. {{place.placePrice}}\r\n                </p>\r\n                <p class=\"text-blueGray-500 font-semibold\">\r\n                    Status: {{order.orderStatus}}\r\n                </p>\r\n                <router-link :to=\"'/places/'+order.placeID\">\r\n                    <button class=\"mt-4 bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" type=\"button\">\r\n                        <i class=\"fas fa-eye\"></i> View Place\r\n                    </button>\r\n                </router-link>\r\n                <button v-if=\"order.orderStatus=='Requested'\" @click=\"status(order.orderID,'Cancelled')\" class=\"bg-red-500 text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" type=\"button\">\r\n                    <i class=\"fas fa-ban\"></i> Cancel\r\n                </button>\r\n            </div>\r\n        </div>  \r\n</template>\r\n<script>\r\nimport Swal from 'sweetalert2';\r\nimport axios from \"axios\";\r\nexport default {\r\n    props: [\"order\"],\r\n    data() {\r\n        return {\r\n            place: [],\r\n            client: [],\r\n            owner: [],\r\n        };\r\n    },\r\n    created() {\r\n        this.getPlace(),\r\n        this.getClient(),\r\n        this.getOwner()\r\n    },\r\n    methods: {\r\n        async status(id,stats){\r\n            try {\r\n                await axios.put('http://localhost:5000/orderStatus/'+id,\r\n                {\r\n                    order_status: stats\r\n                });\r\n                this.sAlert(\"success\",\"Yeay..\",\"Updating Order Success\");\r\n            } catch (err) {\r\n                console.log(err);\r\n                this.sAlert(\"error\",\"Oops..\",\"Updating Order Failed\");\r\n            }\r\n        },\r\n        async getPlace(){\r\n            await axios\r\n            .get(\"http://localhost:5000/place/\" + this.order.placeID)\r\n            .then((response) => {this.place = response.data;})\r\n            .catch((error) => console.log(error));\r\n        },\r\n        async getClient(){\r\n            await axios\r\n            .get(\"http://localhost:5000/client/\" + this.order.clientID)\r\n            .then((response) => {this.client = response.data;})\r\n            .catch((error) => console.log(error));\r\n        },\r\n        async getOwner(){\r\n            await axios\r\n            .get(\"http://localhost:5000/owner/\" + this.place.ownerID)\r\n            .then((response) => {this.owner = response.data;})\r\n            .catch((error) => console.log(error));\r\n        },\r\n        sAlert: function(ico, tit, txt) {\r\n            Swal.fire({\r\n            icon: ico,\r\n            title: tit,\r\n            text: txt,\r\n            showConfirmButton: false,\r\n            timer: 1500\r\n          });\r\n    },\r\n    },\r\n};\r\n</script>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}