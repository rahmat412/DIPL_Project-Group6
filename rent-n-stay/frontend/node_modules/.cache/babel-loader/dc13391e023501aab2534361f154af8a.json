{"ast":null,"code":"import axios from \"axios\";\nimport { useSwal } from \"@/plugins/useSwal.js\";\nexport default {\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  setup: function setup() {\n    var Swal = useSwal();\n\n    var simple = function simple() {\n      return Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Something went wrong!\",\n        showConfirmButton: false,\n        timer: 1000\n      });\n    };\n\n    return {\n      simple: simple\n    };\n  },\n  methods: {\n    LogIn: function LogIn() {\n      var _this = this;\n\n      // const Swal = useSwal();\n      axios.post(\"http://localhost:5000/login\", {\n        email: this.email,\n        password: this.password\n      }).then(function (response) {\n        var role = response.data.role;\n        localStorage.setItem('user', response.data.user);\n        localStorage.setItem('role', response.data.role);\n        localStorage.setItem('jwt', response.data.token);\n\n        if (localStorage.getItem('jwt') != null) {\n          if (_this.$route.params.nextUrl != null) {\n            _this.$router.push(_this.$route.params.nextUrl);\n          } else {\n            _this.$emit('logged-');\n\n            if (role == 1) {\n              _this.$router.push(\"/admin\");\n            } else if (role == 2) {\n              _this.$router.push(\"/profile\");\n            } else if (role == 3) {\n              _this.$router.push(\"/profile\");\n            } else {\n              _this.$router.push(\"/\");\n            }\n          }\n        }\n      }).catch(function (error) {\n        console.error(error.response);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["D:\\Project\\temp_rns\\frontend\\src\\views\\auth\\Login.vue"],"names":[],"mappings":"AAmFA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,OAAT,QAAwB,sBAAxB;AACA,eAAe;AACb,EAAA,IADa,kBACP;AACJ,WAAO;AACL,MAAA,KAAI,EAAI,EADH;AAEL,MAAA,QAAO,EAAI;AAFN,KAAP;AAID,GANY;AAOb,EAAA,KAPa,mBAOL;AACN,QAAM,IAAG,GAAI,OAAO,EAApB;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS;AAAA,aACb,IAAI,CAAC,IAAL,CAAU;AACR,QAAA,IAAI,EAAE,OADE;AAER,QAAA,KAAK,EAAE,SAFC;AAGR,QAAA,IAAI,EAAE,uBAHE;AAIR,QAAA,iBAAiB,EAAE,KAJX;AAKR,QAAA,KAAK,EAAE;AALC,OAAV,CADa;AAAA,KAAf;;AASA,WAAO;AACL,MAAA,MAAM,EAAN;AADK,KAAP;AAGD,GArBY;AAsBb,EAAA,OAAM,EAAI;AACR,IAAA,KADQ,mBACA;AAAA;;AACN;AACA,MAAA,KAAK,CAAC,IAAN,CAAW,6BAAX,EAA0C;AACxC,QAAA,KAAK,EAAE,KAAK,KAD4B;AAExC,QAAA,QAAQ,EAAE,KAAK;AAFyB,OAA1C,EAIC,IAJD,CAIM,UAAA,QAAO,EAAK;AAChB,YAAI,IAAG,GAAI,QAAQ,CAAC,IAAT,CAAc,IAAzB;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA4B,QAAQ,CAAC,IAAT,CAAc,IAA1C;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA4B,QAAQ,CAAC,IAAT,CAAc,IAA1C;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,KAArB,EAA2B,QAAQ,CAAC,IAAT,CAAc,KAAzC;;AACA,YAAI,YAAY,CAAC,OAAb,CAAqB,KAArB,KAA+B,IAAnC,EAAwC;AACtC,cAAG,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,OAAnB,IAA8B,IAAjC,EAAsC;AACpC,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,OAArC;AACF,WAFA,MAEO;AACL,YAAA,KAAI,CAAC,KAAL,CAAW,SAAX;;AACA,gBAAG,IAAG,IAAK,CAAX,EAAa;AACX,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACF,aAFA,MAEO,IAAG,IAAG,IAAK,CAAX,EAAa;AAClB,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACF,aAFO,MAEA,IAAG,IAAG,IAAK,CAAX,EAAa;AAClB,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACF,aAFO,MAEA;AACL,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACF;AACF;AACF;AACD,OAzBD,EA0BC,KA1BD,CA0BO,UAAU,KAAV,EAAiB;AACtB,QAAA,OAAO,CAAC,KAAR,CAAc,KAAK,CAAC,QAApB;AACD,OA5BD;AA6BD;AAhCO;AAtBG,CAAf","sourcesContent":["<template>\n  <div class=\"container mx-auto px-4 h-full\">\n    <div class=\"flex content-center items-center justify-center h-full\">\n      <div class=\"w-full lg:w-4/12 px-4\">\n        <div\n          class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0\"\n        >\n          <div class=\"rounded-t mb-0 px-6 py-6\">\n            <div class=\"text-center mb-3\">\n              <h6 class=\"text-blueGray-500 text-sm font-bold\">\n                Log in\n              </h6>\n            </div>\n            <hr class=\"mt-6 border-b-1 border-blueGray-300\" />\n          </div>\n          <div class=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n            <form>\n              <div class=\"relative w-full mb-3\">\n                <label\n                  class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                  htmlFor=\"grid-password\"\n                >\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                  placeholder=\"Email\"\n                  v-model=\"email\"\n                />\n              </div>\n\n              <div class=\"relative w-full mb-3\">\n                <label\n                  class=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\n                  htmlFor=\"grid-password\"\n                >\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  class=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\n                  placeholder=\"Password\"\n                  v-model=\"password\"\n                />\n              </div>\n              <div class=\"text-center mt-6\">\n                <button\n                  @click=\"LogIn\"\n                  class=\"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150\"\n                  type=\"button\"\n                >\n                  Log In\n                </button>\n                <button\n                  @click=\"simple\"\n                  class=\"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150\"\n                  type=\"button\"\n                >\n                  Log In\n                </button>\n              </div>\n            </form>\n            <div class=\"flex flex-wrap mt-6 relative\">\n              <div class=\"w-1/2\">\n                <a href=\"javascript:void(0)\" class=\"text-blueGray-200\">\n              \n                </a>\n              </div>\n              <div class=\"w-1/2 text-right\">\n                <small>Don't have an account? </small>\n                <router-link to=\"/auth/register\" class=\"text-blueGray-600 font-bold\">\n                  <small>Register</small>\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport { useSwal } from \"@/plugins/useSwal.js\";\nexport default {\n  data(){\n    return {\n      email : \"\",\n      password : \"\",\n    }\n  },\n  setup() {\n    const Swal = useSwal();\n    const simple = () =>\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Something went wrong!\",\n        showConfirmButton: false,\n        timer: 1000\n      });\n\n    return {\n      simple,\n    };\n  },\n  methods : {\n    LogIn() {\n      // const Swal = useSwal();\n      axios.post(\"http://localhost:5000/login\", {\n        email: this.email,\n        password: this.password\n      })\n      .then(response => {   \n        let role = response.data.role;\n        localStorage.setItem('user',response.data.user);\n        localStorage.setItem('role',response.data.role);\n        localStorage.setItem('jwt',response.data.token);\n        if (localStorage.getItem('jwt') != null){\n          if(this.$route.params.nextUrl != null){\n            this.$router.push(this.$route.params.nextUrl);\n          } else {\n            this.$emit('logged-')\n            if(role == 1){\n              this.$router.push(\"/admin\");\n            } else if(role == 2){\n              this.$router.push(\"/profile\");\n            } else if(role == 3){\n              this.$router.push(\"/profile\");\n            } else {\n              this.$router.push(\"/\");\n            }\n          }\n        }\n      })\n      .catch(function (error) {          \n        console.error(error.response);\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}